\documentclass{article}
\usepackage{fancyhdr}
%for headers
\usepackage{textcomp}
%for angles
\usepackage{listings}
%for code listing
\usepackage{xcolor}
%for highlighting
\usepackage{caption}
\usepackage{calc}
%for code boxes
\usepackage{varioref}
%for fancey references
\usepackage{fancyvrb}
%for fancey Verbs

\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{%
	\parbox{\textwidth}{\colorbox{gray}{\parbox{\textwidth}{#1#2#3}}\vskip-4pt}}
\newlength\tdima \newlength\tdimb \setlength\tdima{ \fboxsep+\fboxrule} \setlength\tdimb{-\fboxsep+\fboxrule}

\renewcommand\lstlistingname{Example}


\newcommand{\theobj}{\protect\Verb+BigNum<T,S> +}
\newcommand{\thedocname}{The \theobj Class}
\rhead{\hfill {\thedocname}}
\pagestyle{fancy}
\cfoot{\thedocname :\quad Page \thepage}

\begin{document}

\tableofcontents



\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{codetext}{rgb}{0.7,0.7,0.7}
\definecolor{backcolour}{rgb}{0.8,0.8,0.8}

\lstdefinestyle{cppstyle}{
	frame=tlrb,
	xleftmargin=\tdima,
	xrightmargin=\tdimb,
	backgroundcolor=\color{backcolour},
	commentstyle=\color{codegreen}\ttfamily,
	keywordstyle=\color{blue}\ttfamily,
	numberstyle=\scriptsize\color{codegray},
	stringstyle=\color{red}\ttfamily,
	basicstyle=\footnotesize\ttfamily,
	breakatwhitespace=false,         
	breaklines=true,                  
	keepspaces=true,                 
	numbers=left,                    
	numbersep=5pt,                  
	showspaces=false,                
	showstringspaces=false,
	showtabs=false,                  
	tabsize=2
}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white}
\lstset{style=cppstyle}

\section{The \theobj Class}

The \theobj class is just a fancy wrapper for a list of \Verb+cg::Num<T>+ objects for a bignum style number.

\subsection{Using \theobj}

Using \theobj is simple. A \theobj with a size of 0 will be unlimited size, or a none-zero size is a stack allocated number with that size max.  Use it like any other object.

\begin{lstlisting}[language=C++, label=code:1, caption=Using \theobj]
cg::BigNum<uint64_t, 10> a = { 0,1,2}; //stack allocated, 10 digits, 3 initial digits.
cg::BigNum<uint64_t, 0> b = { 2 }; //heap allocated, unlimited digits, 1 initial digit.

for(std::size_t i = 0; i < 1000000000; ++i)
	a *= b; //will getreally big really fast.
\end{lstlisting}


\end{document}

























